---
layout: post
title:  拾肆-NodeJS简单代理池（起）
date:   2019.01.30 11:04:07 +0800
categories: 三世书记录
author: 崔秉龙
location: Guangzhou, China
---



找工作的时候被人侮辱了好多次，我却很享受被侮辱的感觉，怎么办？

其中一家公司问我，会不会用`async`？我默默的懵逼了一下，冷静的说 “我不会哦！” 是不是很诚实？于是回家就看了很久`async.js`，谁知道别人问的根本不是那个包，而是`ES6`里面的`async`（别问我是怎么知道的，因为我想起他也问过`Promise`）。

所以我是不会做开发的了，我放弃了！！

---------

以上是悲剧的人生

---------

# 1. 我想起了其实我有时候想做爬虫

`爬虫`很多人绕不开的一个事实就是会`封IP`，那么这个时候就需要一个`代理池`了（其实`代理池`是否有用我也不太清楚）。

`代理池`我看网上很多方法做，我选择了最简单的--[NodeJs从零构建代理ip池（二）项目框架介绍与搭建](https://www.jianshu.com/p/a8922e1551ae)。

# 2. 我也很想抄啊，但我想存在MongoDB中，所以只能改框架

直接抄是有点困难，于是只能看看写写，后来想出一个超级简单的框架。

![超级简单的框架！](/photo/InPost/14-1.png)


# 3. 主程序超级简单

主程序就定义一个`请求函数`，一个`验证函数`和一个`初始函数`，然后请求和验证两个函数就在不断`setTimeout`的互相调用。

![你觉不觉得我超级简单？](/photo/InPost/14-2.png)

# 4.ES6到底是什么？

说真的，看到要求那里都写着需求熟练`ES6`什么什么什么什么规范，我真不太清楚，到底`ES6`跟前期学的有什么不同呢？于是我就搜索了一下，结果，发现了一个神奇的东西：[《ECMAScript 6 入门》](http://es6.ruanyifeng.com/#README)，看完十分感动！

于是我决定在这次机会浅浅的学习一下。

# 5.还是先放源代码先

源代码在[一个全球交友平台上](https://github.com/BerryBC/proxy_pool)。

大体结构如下

```
├──index.js
├──cfg.json
└──  class
    ├──cCommon.js
    ├──cControllerIO.js
    ├──cControllerRequest.js
    └── IOEng
        ├──cIOMongodb.js
        └──cIOJSON.js
```

其实文件夹`IOEng`里面可以随时增加存储模块，然后在`cfg.json`里面增加存储模块的配置就行了。

# 6.无聊如我还会有什么话题呢？

其实我一开觉得我有很多东西写的，好像`箭头函数`、`js的类`、`async`等，但后来发现网上一大堆的，我就还是算了，我觉得要找到好工作，现在还是学`python`吧。