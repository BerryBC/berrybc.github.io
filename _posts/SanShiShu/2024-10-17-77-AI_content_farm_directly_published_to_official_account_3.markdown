---
layout: post
title:  æŸ’æ‹¾æŸ’- AIå†…å®¹å†œåœºç”Ÿäº§æ–‡ç« è‡ªåŠ¨å‘å¸ƒè‡³å…¬ä¼—å· (ä¸‰)
date:   2024-10-17 16:43:13 +0800
categories: ä¸‰ä¸–ä¹¦è®°å½•
author: å´”ç§‰é¾™
location: Guangzhou, China
---


# ä¸€ã€æ•ˆæœ

å…¶å®ï¼Œåƒåœ¾çš„å†…å®¹ï¼Œæ˜¯é’ˆå¯¹æ±‚çœŸçš„äºº

è€Œç©ºé—²çš„äººï¼Œå…¶å®è¿˜å¯¹åƒåœ¾æœ‰éå¸¸é«˜çš„éœ€æ±‚ï¼Œè¿™æ˜¯æˆ‘è¿™å‡ å¤©æœ€å¤§çš„æ„Ÿæ‚Ÿ

ä»¥ä¸‹æ˜¯è¿™ä¸ªå°å®éªŒæœ€åˆè¦éªŒè¯çš„ä¸¤ä¸ªæ•ˆæœ

### 1) åƒåœ¾å†…å®¹å±…ç„¶è¿˜æœ‰äººçœ‹

![alt text](/photo/InPost/SanShiShu/77/image.png)

è¿™ä¸ª `AI è‡ªåŠ¨ç”Ÿæˆ` **åƒåœ¾æ–‡ç« ** çš„å®éªŒè®©äººæ„Ÿè§‰å¤ªç»æœ›äº†ï¼Œè¿™äº›å†…å®¹ç”šè‡³åœ¨æˆ‘æ²¡å‘çš„å‡ å¤©å±…ç„¶è¿˜æœ‰æµè§ˆä»¥åŠè½¬å‘

å¤§å®¶å¯ä»¥æ„Ÿå—ä¸€ä¸‹è½¬å‘é‡æœ€é«˜çš„æ–‡ç« ï¼š

[ã€Šå®‹äºšè½©çš„ç”µç«è‹±é›„ç§€ã€‹](https://mp.weixin.qq.com/s?__biz=MzIzMjU2NTEwOA==&mid=2247487366&idx=4&sn=887baa2f250ce50e636c81a70022197d&chksm=e893bf9ddfe4368b6d6ad7b238a17782c84765f7202245a26eb68b560d922258dccbc7564f36&token=1737104733&lang=zh_CN#rd)


### 2) ä¸åŒæ¨¡å‹ç”Ÿå‡ºæ¥çš„æ–‡ç« è´¨é‡è¿˜çœŸæœ‰ç‚¹å·®

åŒä¸€æ®µæç¤ºè¯ï¼Œåœ¨ä¸åŒçš„å¤§æ¨¡å‹ä¸Šé¢ç”Ÿæˆçš„ç»“æœ ( ä¸»è¦æ˜¯å†…å®¹é€šå¸¸åº¦ã€æ’ç‰ˆ ) è¿˜çœŸçš„å·®å¾ˆè¿œï¼Œå¤§å®¶å¯ä»¥ç›´è§‚æ„Ÿå—ä¸‹ï¼š

- å·®ä¸€ç‚¹çš„æ¨¡å‹

[ç‹é¹¤æ££æ–‡æ—…æ–°ç§€åˆè¯•è¹„](https://mp.weixin.qq.com/s?__biz=MzIzMjU2NTEwOA==&mid=2247485073&idx=4&sn=ba67a0002c8b0f989d362366a3d4581a&chksm=e893b68adfe43f9cb36dca7b0ebb955d09650fec5486567413b13549fe9cee167f73b58f5158&token=1737104733&lang=zh_CN#rd)


[è²å§ä¿é™©ç¯‡ï¼šæˆ‘çˆ±æˆ‘ä¸ºè´¢](https://mp.weixin.qq.com/s?__biz=MzIzMjU2NTEwOA==&mid=2247485046&idx=3&sn=e345bdc5cc63b2fc57821e29b1b60d4c&chksm=e893b66ddfe43f7ba72b6a9cd461d83dbb4a80d74ab365eab5848eaead1682db80dcae4848cd&token=1737104733&lang=zh_CN#rd)

- å¥½ä¸€ç‚¹çš„æ¨¡å‹

[è‚Œè‚‰ç‚¸è£‚ï¼è¯æ°´å“¥é€†è¢­ğŸ”¥](https://mp.weixin.qq.com/s?__biz=MzIzMjU2NTEwOA==&mid=2247488570&idx=2&sn=81736eece82f66bdc450c75243e88f30&chksm=e893a421dfe42d37af9f9ac191d2550c92abf00b227eddc4a724e4c1363ce8992ca6c5d32cb8&token=1737104733&lang=zh_CN#rd)

[ğŸŒŸå‘¨æ·±éŸ³ä¹ç››å®´ğŸ¶](https://mp.weixin.qq.com/s?__biz=MzIzMjU2NTEwOA==&mid=2247488552&idx=2&sn=07118540e952955f9c36bb0d2b3402c1&chksm=e893a433dfe42d25dc480631a66f363c6d3ca41f0279b4321ad83e016e83db6621792afea2ed&token=1737104733&lang=zh_CN#rd)



# äºŒã€é’ˆå¯¹ä¸åŒ Function çš„æ˜ç»†ä»£ç 

å› ä¸ºä»£ç ä¹Ÿæ˜¯ç”± `å¤§æ¨¡å‹` ç”Ÿæˆçš„ ( æ„Ÿè§‰æ•´ä¸ª **é¡¹ç›®** éƒ½æ˜¯æ¥éªŒè¯ AI å¹²æ´»åˆ°åº•æœ‰å¤šä¸é è°± )

æ‰€ä»¥æˆ‘å†³å®šæ‹¿å‡ºæ¥æ¯ä¸ª Function å‡ºæ¥åæ§½ä»¥ä¸‹


### æ•´ä½“å¼•ç”¨åŒ…

```python
import requests
import json
from bs4 import BeautifulSoup
from urllib.parse import urlparse, parse_qs
from zhipuai import ZhipuAI
import mysql.connector
from datetime import datetime, timedelta
import asyncio
import time
import random
```

### æŠ“å–å¾®åšçƒ­æœçš„å‡½æ•°

```python

# -----------------------------------------------------------------------
# å‡½æ•° : å…ˆæŠ“å–çƒ­æœ
def funFetchWeiboHotSearch():
    # Fetch the hot search data from Weibo's AJAX endpoint and return it as a dictionary.
    url = "https://weibo.com/ajax/side/hotSearch"
    try:
        headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36'
        }
        response = requests.get(url, headers=headers)
        # Raises an HTTPError if the HTTP request returned an unsuccessful status code
        response.raise_for_status()
        return json.loads(response.text)
    except Exception as e:
        print(f"An error occurred: {e}")
        return None


```

### å‘å¸ƒæ–‡ç« 

å…¶å®æˆ‘ä¸æ˜¯å¾ˆç†è§£ä¸ºä»€ä¹ˆè¿™é‡Œéœ€è¦ç”¨ f"" è¿™ä¸ªå†™æ³•....

```python

# -----------------------------------------------------------------------
# å‡½æ•° : å‘å¸ƒæ–‡ç« 
def funSubmitArticle(strAccToken,strMediaID):
    try:

        # è®¾ç½®APIçš„URL
        url = f"https://api.weixin.qq.com/cgi-bin/freepublish/submit?access_token={strAccToken}"

        # è®¾ç½®è¦å‘å¸ƒçš„è‰ç¨¿çš„media_id
        payload = {
            "media_id": strMediaID
        }

        # print(url)
        # print(strMediaID)

        # å‘é€POSTè¯·æ±‚
        response = requests.post(url, data=json.dumps(payload))


        # æ‰“å°å“åº”å†…å®¹
        # print(response.text)

        dictFB = json.loads(response.text)
        return dictFB

    except requests.exceptions.RequestException as e:
        print(f"An error occurred: {e}")
    except Exception as e:
        print(f"An unexpected error occurred: {e}")

```


### å»æŸ¥ Google çš„ç›¸å…³å›¾ç‰‡

æˆ‘è¯•è¿‡äº†ï¼Œå¥½åƒç™¾åº¦çš„è¯æœä¸äº†å›¾ ( ç”¨äº† JS ï¼Œ æ‰€ä»¥å¾—ç”¨åˆ«çš„åº“ï¼Œè¿˜è¦å ç”¨æµè§ˆå™¨ï¼Œä¸è¡Œ )

```python

# -----------------------------------------------------------------------
# å‡½æ•° : å»æŸ¥ google ç›¸å…³å›¾ç‰‡
def funGetPicture(strInKeyword):

    # è®¾ç½®å…³é”®è¯å’Œä»£ç†
    # keyword = "æ˜“çƒŠåƒçºè°ˆæ‹çˆ±"
    proxy = {
        'http': 'http://127.0.0.1:1024',
        'https': 'http://127.0.0.1:1024'
    }

    # è¿”å›çš„æ•°ç»„
    listFB = []

    # æœç´¢å›¾ç‰‡çš„URL
    search_url = f"https://www.google.com/search?q={strInKeyword}&tbm=isch&udm=2"

    # è®¾ç½®è¯·æ±‚å¤´ï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸º
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'
    }

    try:
        # å‘é€è¯·æ±‚ï¼Œä½¿ç”¨ä»£ç†
        response = requests.get(search_url, headers=headers, proxies=proxy)

        # æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ
        if response.status_code == 200:
            soup = BeautifulSoup(response.text, 'html.parser')
            # æŸ¥æ‰¾å›¾ç‰‡é“¾æ¥
            # print(soup)
            images = soup.find_all("img", class_="DS1iW")
            # images = soup.find_all("img")
            # print(images)
            for img in images:
                try:
                    # æå–å›¾ç‰‡é“¾æ¥
                    img_url = img['src']
                    # img['src']
                    listFB.append(img_url)
                    # print(img_url)
                except KeyError:
                    continue
        else:
            print("è¯·æ±‚å›¾ç‰‡å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š", response.status_code)
    except Exception as e:
        print(f"An error occurred: {e}")
        # return False
    return listFB

```


### ä¸‹è½½ç›¸å…³å›¾ç‰‡

è¿™æ®µä»£ç å…¶å®æˆ‘æ”¹è¿‡äº†ï¼Œå› ä¸ºå¤§æ¨¡å‹åå‡ºæ¥çš„ä»£ç ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Ÿ

ä¸èƒ½ç›´æ¥è·‘å‡ºæ¥ ( æˆ‘ä¼°è®¡äººå®¶å†™çš„æ˜¯åœ¨ Linux ç¯å¢ƒä¸‹ï¼Œæ— æ³•ç›´æ¥è¿è¡Œåœ¨ Windows )



```python


# -----------------------------------------------------------------------
# å‡½æ•° : ä¸‹è½½ç›¸å…³å›¾ç‰‡
def funDownloadImage(image_url, save_dir="./img"):
    """
    Download an image from a given URL and save it to a specified directory with the same name as in the URL.
    Args:
    - image_url (str): The URL of the image to download.
    - save_dir (str): The directory where the image should be saved.
    Returns:
    - bool: True if the image was successfully downloaded and saved, False otherwise.
    """
    proxy = {
        'http': 'http://127.0.0.1:1024',
        'https': 'http://127.0.0.1:1024'
    }
    # è®¾ç½®è¯·æ±‚å¤´ï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸º
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'
    }
    # å‡†å¤‡è¿”å›çš„æ•°æ®
    strFBSaveImg = ''
    try:
        # Parse the URL to get the file name
        # url_path = urlparse(image_url).path
        # filename = url_path.split("/")[-1]

        # è§£æURL
        parsed_url = urlparse(image_url)

        # æå–æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°
        query_params = parse_qs(parsed_url.query)

        # æ‰“å°æ‰€æœ‰å‚æ•°
        # print("All query parameters:", query_params)

        # æå–ç‰¹å®šçš„å‚æ•°
        filename = query_params.get('q', [None])[0]  # è¿”å›å€¼æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæˆ‘ä»¬å–ç¬¬ä¸€ä¸ªå…ƒç´ 
        filename = filename[4:]

        # Ensure the save directory ends with a slash
        if not save_dir.endswith("/"):
            save_dir += "/"

        # Full path where the image will be saved
        strFBSaveImg = save_dir + filename

        response = requests.get(image_url, headers=headers, proxies=proxy)
        response.raise_for_status()
        with open(strFBSaveImg, "wb") as file:
            file.write(response.content)

    except Exception as e:
        print(f"An error occurred: {e}")
    return strFBSaveImg
```


### è·å– Access Token

```python

# -----------------------------------------------------------------------
# å‡½æ•° : è·å– Access Token
def funGetOffiAccAccToken(strAppid, strAppSecret):
    # Fetch the hot search data from Weibo's AJAX endpoint and return it as a dictionary.
    url = f"https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid={strAppid}&secret={strAppSecret}"
    try:
        response = requests.get(url)
        # Raises an HTTPError if the HTTP request returned an unsuccessful status code
        response.raise_for_status()
        dictFB = json.loads(response.text)
        # print(response.text)
        strAccToken = dictFB['access_token']
        return strAccToken
    except Exception as e:
        print(f"An error occurred: {e}")
        return None
```


### ä¸Šä¼ å›¾ç‰‡



```python

# -----------------------------------------------------------------------
# å‡½æ•° : ä¸Šä¼ å›¾ç‰‡ç´ æç»™é‚£å•¥
def funUploadImgToOffiAcc(strAccToken, strFileName):
    try:
        # è®¾ç½®APIçš„URL
        url = "https://api.weixin.qq.com/cgi-bin/material/add_material"

        # è®¾ç½®å‚æ•°
        params = {'access_token': strAccToken, 'type': 'image'}

        # è®¾ç½®è¡¨å•æ•°æ®
        description = '{"title":"'+strFileName+'", "introduction":"'+strFileName+'"}'
        files = {
            'media': ('jj.jpg', open(strFileName, 'rb'), 'image/jpeg'),
            'description': (None, description, 'application/json')
        }

        # å‘é€è¯·æ±‚
        response = requests.post(url, params=params, files=files)

        # æ‰“å°å“åº”å†…å®¹
        # print(response.text)

        dictFB = json.loads(response.text)
        return dictFB

    except requests.exceptions.RequestException as e:
        print(f"An error occurred: {e}")
    except FileNotFoundError:
        print(f"The file at path {strFileName} was not found.")
    except Exception as e:
        print(f"An unexpected error occurred: {e}")


```


### ä¸Šä¼ æ–‡ç« 

```python

# -----------------------------------------------------------------------
# å‡½æ•° : ä¸Šä¼ æ–‡ç« 
def funPublishDocument(strAccToken, listArticles):

    try:
        # è®¾ç½®APIçš„URL
        url = f"https://api.weixin.qq.com/cgi-bin/draft/add?access_token={strAccToken}"

        # æ„å»ºè¯·æ±‚çš„æ•°æ®
        data = {"articles": listArticles}

        # å‘é€POSTè¯·æ±‚
        response = requests.post(url, data=json.dumps(
            data, ensure_ascii=False).encode('utf-8'))

        # æ‰“å°å“åº”å†…å®¹
        # print(response.text)

        return json.loads(response.text)

    except requests.exceptions.RequestException as e:
        print(f"An error occurred: {e}")
    except Exception as e:
        print(f"An unexpected error occurred: {e}")


```

### æ’å…¥çƒ­æœåˆ°æ•°æ®åº“ä¸­

æ¯æ¬¡éœ€è¦æŠŠæ‰¾åˆ°çš„çƒ­æœæ”¾åˆ°æ•°æ®åº“ä¸­ï¼Œå¦‚æœå‰æœŸå·²ç»åšè¿‡çš„å…³é”®è¯è¿™æ¬¡æ˜¯ä¸å†åšçš„

```python
# -----------------------------------------------------------------------
# å‡½æ•° : æ’å…¥çƒ­æœåˆ°æ•°æ®åº“ä¸­
def funInsertWordsIfNotExists(connMySQL,listWords):
    # æ•°æ®åº“è¿æ¥ä¿¡æ¯
    listFBWords=[]
    # å½•å…¥å¤šå°‘ä¸ªçƒ­ç‚¹
    intMax=5
    intNow=0
    try:
        with connMySQL.cursor() as cursor:
            # è·å–å½“å‰æ—¶é—´
            current_time = datetime.now()
            # è®¡ç®—10å¤©å‰çš„æ—¶é—´
            ten_days_ago = current_time - timedelta(days=10)

            for word_dict in listWords:
                # æ£€æŸ¥wordæ˜¯å¦åœ¨æ•°æ®åº“ä¸­ï¼Œä¸”create_timeåœ¨10å¤©å†…
                sql_check = """
                SELECT * FROM db_genarticle.tb_hotsearch
                WHERE word = %s AND create_time > %s
                """
                cursor.execute(sql_check, (word_dict['word'], ten_days_ago))
                result = cursor.fetchone()

                # å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥
                if result is None:
                    sql_insert = """
                    INSERT INTO db_genarticle.tb_hotsearch (word, create_time)
                    VALUES (%s, %s)
                    """
                    cursor.execute(sql_insert, (word_dict['word'], current_time))
                    # æäº¤äº‹åŠ¡
                    connMySQL.commit()
                    listFBWords.append(word_dict['word'])
                    intNow=intNow+1
                    if intNow>= intMax:
                        connMySQL.close()
                        return listFBWords

    except Exception as e:
        print(f"An error occurred: {e}")
    finally:
        # å…³é—­æ•°æ®åº“è¿æ¥
        connMySQL.close()
    return listFBWords
```



# ä¸‰ã€ç»“æœ

è¿™ä¸ªä¸œè¥¿å…¶å®æŒºå¥½ç©çš„ï¼Œä½†æ˜¯çœŸçš„æ˜¯æ¯«æ— æ„ä¹‰

æœ€è¿‘çœ‹äº†å¾ˆå¤šå°çº¢ä¹¦å…»å·çš„å†å–é’±ï¼Œè¯´ç™½äº†....æ–¹æ³•è·Ÿè·¯å¾„éƒ½æ˜¯å¤§æŠŠï¼Œä½†æœ‰æ²¡æœ‰æ„ä¹‰ï¼Œè¿™äº›ä¹Ÿä¸å¤ªé•¿ä¹…çš„

å¥½äº†ï¼Œæ‹œæ‹œäº†







å‰æ–‡ :

[æŸ’æ‹¾ä¼- AIå†…å®¹å†œåœºç”Ÿäº§æ–‡ç« è‡ªåŠ¨å‘å¸ƒè‡³å…¬ä¼—å· (ä¸€)](https://berrybc.github.io/%E4%B8%89%E4%B8%96%E4%B9%A6%E8%AE%B0%E5%BD%95/75-AI_content_farm_directly_published_to_official_account_1/)

[æŸ’æ‹¾é™†- AIå†…å®¹å†œåœºç”Ÿäº§æ–‡ç« è‡ªåŠ¨å‘å¸ƒè‡³å…¬ä¼—å· (äºŒ)](https://berrybc.github.io/%E4%B8%89%E4%B8%96%E4%B9%A6%E8%AE%B0%E5%BD%95/76-AI_content_farm_directly_published_to_official_account_2/)